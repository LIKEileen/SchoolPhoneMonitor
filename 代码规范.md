# 代码规范
本项目代码规范参考自W3School记录的[腾讯前端代码规范](https://www.w3cschool.cn/wematy/wematy-glx43bs6.html)、[TypeScript中使用tslint-config-standard代码规范](https://www.kancloud.cn/mandy_cen/typesprict/1330040)以及CSDN上腾讯职工分享的[Python代码规范](https://blog.csdn.net/xufive/article/details/84957425)

## Python代码规范
### 1.源文件构成
Linux 平台上，一个 python 源码文件应该以下部分组成。Windows 平台上，可以省略第一项。

    1.解释器声明
    2.编码格式声明
    3.模块注释或文档字符串
    4.模块导入
    5.常量和全局变量声明
    6.顶级定义（函数或类定义）
    7.执行代码

### 2.编码格式声明
通常，编码格式声明是必需的。如果 python 源码文件没有声明编码格式，python 解释器会默认使用 ASCII 编码，一旦源码文件包含非ASCII编码的字符，python 解释器就会报错。
```python
# -*- coding: utf-8 -*-
```
### 3.缩进
统一使用 4 个空格进行缩进。绝对不要用tab, 也不要tab和空格混用。对于行连接的情况，一般使用4空格的悬挂式缩进。
### 4.引号
引号使用的一般性原则：
- 自然语言使用双引号
- 机器标识使用单引号
- 正则表达式使用双引号
- 文档字符串 (docstring) 使用三个双引号
### 5.注释
'#'号后空一格，段落件用空行分开（同样需要#号）：
```python
    # 块注释
    # 块注释
    #
    # 块注释
    # 块注释

```
行内注释，至少使用两个空格和语句分开：
```python
age += 1  # 年龄增加一岁
```
比较重要的注释段, 使用多个等号隔开, 可以更加醒目, 突出重要性：
```python
    server= gogame(room, options)
    
    # =====================================
    # 请勿在此处倾倒垃圾!!!
    # =====================================
    
    if __name__ == '__main__':
        server.run()
```
关于文档或者构造函数的说明：
```python
"""通常这里是关于本文档的说明（docstring），须以半角的句号、 问号或惊叹号结尾!

本行之前应当空一行，继续完成关于本文档的说明
如果文档说明可以在一行内结束，结尾的三个双引号不需要换行；否则，就要像下面这样
"""
```
### 6.空行
空行使用的一般性原则：
- 编码格式声明、模块导入、常量和全局变量声明、顶级定义和执行代码之间空两行
- 顶级定义之间空两行，方法定义之间空一行
- 在函数或方法内部，可以在必要的地方空一行以增强奏感，但应避免连续空行
### 7.空格
空格使用的一般性原则：
- 在二元运算符两边各空一格，算术操作符两边的空格可灵活使用，但两侧务必要保持一致
- 不要在逗号、分号、冒号前面加空格，但应该在它们后面加（除非在行尾）
- 函数的参数列表中，逗号之后要有空格
- 函数的参数列表中，默认值等号两边不要添加空格
- 左括号之后，右括号之前不要加添加空格
- 参数列表， 索引或切片的左括号前不应加空格
### 8.导入模块
导入总应该放在文件顶部，位于模块注释和文档字符串之后，模块全局变量和常量之前。导入应该按照从最通用到最不通用的顺序分组，分组之间空一行：
1. 标准库导入
2. 第三方库导入
3. 应用程序指定导入
### 9.命名规范
命名建议遵循的一般性原则：
- 模块尽量使用小写命名，首字母保持小写，尽量不要用下划线
- 类名使用驼峰(CamelCase)命名风格，首字母大写，私有类可用一个下划线开头
- 函数名一律小写，如有多个单词，用下划线隔开
- 私有函数可用一个下划线开头
- 变量名尽量小写, 如有多个单词，用下划线隔开
- 常量采用全大写，如有多个单词，使用下划线隔开

## HTML规范
### 1.HTML代码大小写
HTML标签名、类名、标签属性和大部分属性值统一用小写
```HTML
<div class="demo"></div>
```
### 2.元素属性
- 元素属性值使用双引号语法
- 元素属性值可以写上的都写上

```HTML
<input type="text">
	
<input type="radio" name="name" checked="checked" >
```
### 3.代码缩进
统一使用四个空格进行代码缩进，使得各编辑器表现一致（各编辑器有相关配置）
### 4.纯数字输入框
使用` type="tel"` 而不是 `type="number"`
### 5.代码嵌套
元素嵌套规范，每个块状元素独立一行，内联元素可选
```HTML
<div>
    <h1></h1>
    <p></p>
</div>	
<p><span></span><span></span></p>
```
段落元素与标题元素只能嵌套内联元素
```HTML
<h1><span></span></h1>
<p><span></span><span></span></p>
```

## TypeScript规范
1. 禁止用var声明
2. 除需要转义的情况外，字符串统一使用单引号。
3. 不要定义未使用的变量。
4. 关键字后面加空格。
   ```typescript
    eslint: keyword-spacing

    if (condition) { ... }   // ✓ ok
    if(condition) { ... }    // ✗ avoid
   ```
5. 函数声明时括号与函数名间加空格
6. 始终使用 === 替代 ==。
7. 字符串拼接操作符 (Infix operators) 之间要留空格
8. 逗号后面加空格
9. else 关键字要与花括号保持在同一行。
10. 多行 if 语句的的括号不能省。
11. 不要丢掉异常处理中err参数。
12. 使用浏览器全局变量时加上 window. 前缀document、console 和 navigator 除外
13. 不允许有连续多行空行。
14. 条件语句中赋值语句使用括号包起来。这样使得代码更加清晰可读，而不会认为是将条件判断语句的全等号（===）错写成了等号（=）
15. 单行代码块两边加空格。
    ```typescript
    eslint: block-spacing
    function foo () {return true}    // ✗ avoid
    function foo () { return true }  // ✓ ok
    ```
16. 不允许有多余的行末逗号。
17. 始终将逗号置于行末。
18. 文件末尾留一空行。
19. 函数调用时标识符与括号间不留间隔。
20. 键值对当中冒号与值之间要留空白。
    ```typescript
    var obj = { 'key' : 'value' }    // ✗ avoid
    var obj = { 'key' :'value' }     // ✗ avoid
    var obj = { 'key':'value' }      // ✗ avoid
    var obj = { 'key': 'value' }     // ✓ ok
    ```
21. 构造函数要以大写字母开头
22. 避免对类名重新赋值。
23. 避免修改使用 const 声明的变量。
24. 避免使用常量作为条件表达式的条件（循环语句除外）。
25. switch 语句中不要定义重复的 case 分支
26. 同一模块有多个导入时一次性写完
27. catch 中不要对错误重新赋值。
28. switch 一定要使用 break 来将条件分支正常中断。
29. 嵌套的代码块中禁止再定义函数。
    ```typescript
    if (authenticated) {
    function setAuthUser () {}    // ✗ avoid
    }
    ```
30. 不要书写不必要的嵌套代码块。
31. 除了缩进，不要使用多个空格。
32. 不要使用多行字符串。
33. 不要重复声明变量。
34. 属性前面不要加空格。
35. 代码块中避免多余留白。
36. 遇到分号时空格要后留前不留
37. 代码块首尾留空格。
    ```typescript
    if (admin){...}     // ✗ avoid
    if (admin) {...}    // ✓ ok
    ```
38. 圆括号间不留空格
39. 注释首尾留空格。
40. 检查 NaN 的正确姿势是使用 isNaN()。
41. 不要使用分号分隔代码
    ```typescript
    window.alert('hi')   // ✓ ok
    window.alert('hi');  // ✗ avoid
    ```